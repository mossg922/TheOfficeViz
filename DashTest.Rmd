---
title: "The Office Dashboard"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
---

```{r setup, include=FALSE}
library(flexdashboard)
library(dplyr)
library(ggplot2)
library(tidyverse)
library(ggrepel)

lines <- read.csv('The-Office-Lines-V3.csv')
#Clean Up Character Names, fix casing, remove whitespace, and remove punctuation
lines$speaker <- str_to_title(tolower(trimws(gsub('[[:punct:]]+', "", lines$speaker))))

#Identify main characters
# test
mainCharacters <- lines %>% 
  group_by(speaker) %>%
  summarise(line_count = n()) %>%
  arrange(desc(line_count)) %>%
  top_n(n = 30, line_count)


# How many times did they share a scene with which characters - GM
character_selected <- 'Jim'

#characters_wide <-  
  lines %>% 
    group_by(season, episode, scene, speaker) %>%
    summarise(in_scene = TRUE) %>%
    pivot_wider(id_cols = c('season', 'episode', 'scene'), names_from = speaker, values_from = in_scene, values_fill = FALSE)

lines %>%
  filter(speaker == character_selected) %>%
  select(season, episode, scene) %>% 
  unique()




```

Characters {data-icon="fa-user-friends"}
===

Column {data-width=650}
-----------------------------------------------------------------------

### Chart A

```{r}


```

Column {data-width=350}
-----------------------------------------------------------------------

### Chart B

```{r}

```

### Chart C

```{r}

```










Seasons {data-icon="fa-tv"}
===

### Chart A

```{r}

```

Column {data-width=350}
-----------------------------------------------------------------------

### Chart B

```{r}

```

### Chart C

```{r}

```